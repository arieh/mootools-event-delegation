<!doctype html>
<html>
	<head>
		<title>sixtyseconds event delegation</title>
		<link type="text/css" rel="stylesheet" href="http://github.com/sixtyseconds/mootools-plugin-template/raw/master/css/default.css" /> 
	</head>
	<body>
		<h1>sixtyseconds event delegation</h1>
		<a href="https://www.github.com/sixtyseconds/mootools-event-delegation/">Source Code</a>
		<p><a href='#' class="clickable">click me</a></p>
		<p><input type="text" class="focusable" /></p>
		<p><a href='#' class="remove">click me to remove my click delegation</a></p>
		<p>
			<select class="changeable">
				<option value="1">option 1</option>
				<option value="2">option 2</option>
				<option value="3">option 3</option>
			</select>
		</p>
		<script type="text/javascript" src="http://github.com/sixtyseconds/mootools-plugin-template/raw/master/js/mootools.core.1.2.4.js"></script> 
		<script type="text/javascript" src="http://github.com/sixtyseconds/mootools-plugin-template/raw/master/js/log.js"></script> 
		<script type="text/javascript" src="http://github.com/sixtyseconds/mootools-plugin-template/raw/master/js/branding.js"></script> 
		<script type="text/javascript" src="../Source/sixtyseconds.event.delegation.js"></script>
		<script type="text/javascript">
			window.addEvent('domready', function() {
				document.id(document.body).delegateEvents({
					'click': {
						'a.clickable': function(e) {
							e.stop();
							log('a.clickable clicked');
						},
						'a.remove': function(e) {
							e.stop();
							document.id(document.body).denyEvents('click', 'a.remove');
							log('a.remove clicked. it now has no click event');
						},
						'self': function(e) {
							log('delegate fired on self (document.body).');
						}
					},
					'focus': {
						'input.focusable': function(e) {
							log('a.focusable focused');
						}
					},
					'blur': {
						'input.focusable': function(e) {
							log('a.focusable blurred');
						}
					},
					'change': {
						'select.changeable': function(e) {
							log('select.changeable changed');
						}
					}
				}, false, true);
			});
		</script>
	</body>
</html>